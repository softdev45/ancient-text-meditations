<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{{ url_for('static', filename='fonts.css') }}" crossorigin="anonymous">
  <link rel="stylesheet" href="{{ url_for('static', filename='browshare.css') }}" crossorigin="anonymous">
  <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.css" /> -->
  <style>
  </style>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
</head>

<body>
  <header>
    <!-- Guides in studying science, information technology and languages. -->
    <!-- Jesus Christ -->
    <!-- "I am the Truth, the Way, and the Life" -->
    <button onclick="rotateCustomFonts()">Change Font</button>
    <a href="/alphabet" style="color: #242424;">Ancient Scriptures</a>
  </header>
  <nav>

  </nav>
  <main class="">


    <!-- <h2>Functions, Equations and Data Structures</h2> -->
    <!-- <h1>Browshare</h1> -->
    <div id="command-control">
      <input id="query-input" placeholder="search..." />
    </div>

    <div id="word">

    </div>

    <div id="controls" class="swiper">
      <button onclick="stepVerse(-1)" class="button-prev-verse">Previous Verse (or swipe)</button>
      <div>
        <button onclick="changeView(1)">Next Find</button>
        <button onclick="changeView(-1)">Previous Find</button>
      </div>
      <button onclick="stepVerse(1)" button="button-next-verse">Next Verse</button>

    </div>

    <div id="log-display">

    </div>

  </main>
  <script src="{{ url_for('static', filename='pagetools.js') }}" defer></script>
  <script src="{{ url_for('static', filename='browshare.js') }}" defer></script>
  <!-- <script src="{{ url_for('static', filename='TinyGesture.min.js') }}" defer></script> -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/tinygesture@3.0.0/dist/TinyGesture.min.js"></script> -->
  <script type="module">
    import TinyGesture from 'https://cdn.jsdelivr.net/npm/tinygesture@3.0.0/dist/TinyGesture.min.js';
    // import TinyGesture from 'tinygesture';

    document.addEventListener('DOMContentLoaded', function () {
      const target = document.getElementsByClassName('swiper')[0];

      const options = {
        // Set a higher threshold for horizontal movement (e.g., 50px)
        // and a lower one for vertical movement (e.g., 10px).
        threshold: (type, self) => {
          if (type === 'x') {
            // return Math.max(50, Math.floor(0.15 * (window.innerWidth || document.body.clientWidth)));
            return 10;
          } else {
            // return Math.max(10, Math.floor(0.15 * (window.innerHeight || document.body.clientHeight)));
            return 10;
          }
        },
        // Other options...
      };

      // 2. Initialize TinyGesture
      const gesture = new TinyGesture(target, options);

      // 3. Listen for swipe events
      gesture.on('swipeleft', () => {
        console.log('Action fired: Swiped Left!');
        stepVerse(1)
      });

      gesture.on('swiperight', () => {
        stepVerse(-1)
        console.log('Action fired: Swiped Right!');
      });
      gesture.on('swipeup', () => {
        changeView(1)
        console.log('Action fired: Swiped Right!');
      });
      gesture.on('swipedown', () => {
        changeView(-1)
        console.log('Action fired: Swiped Right!');
      });

      function yourCustomFunction() {
        alert('Logic triggered without npm!');
      }
    })

  </script>
</body>

</html>